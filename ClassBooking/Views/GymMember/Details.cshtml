@model ClassBooking.Models.GymMember

@{
    ViewBag.Title = "Member details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h4>Gym Member Details</h4>
<span>&nbsp;</span>
<div>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.StaffId)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.StaffId)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.FirstName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.FirstName)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.LastName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.LastName)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.PhoneNumber)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.PhoneNumber)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.EmailAddress)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.EmailAddress)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.IsAdmin)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.IsAdmin)
        </dd>
    </dl>
</div>
@if (Model.Bookings != null && Model.Bookings.Count > 0) {
    <div class="col-md-8">
        <hr/>
        <h4>Booked on classes:</h4>
        <table class="table" id="tblBookings">
            <tr class="info">
                <th>
                    Type
                </th>
                <th>
                    Class Date
                </th>
                <th>
                    Class Time
                </th>
                <th>
                    On the wait list?
                </th>
                <th>
                    Attended?
                </th>
            </tr>

            @foreach (var item in Model.Bookings) {
                <tr>
                    <td>
                        <a href="@Url.Action("Details", "GymClass", new { id=item.GymClassId })">
                            @item.GymClass.Type.Name
                        </a>
                    </td>
                    <td>
                        @item.GymClass.ClassDateTime.ToString("dddd dd MMM")
                    </td>
                    <td>
                        @item.GymClass.ClassDateTime.ToString("HH:mm")
                    </td>
                    <td>
                        @(item.Waiting?"YES":"")
                    </td>
                    <td>
                        @(item.Attended ? "YES" : "")
                    </td>
                </tr>
            }
        </table>
    </div>
}
<div class="col-md-12">
        @Html.ActionLink("Edit", "Edit", new { id = Model.GymMemberId }, new { @class = "btn btn-info" })
        @Html.ActionLink("Back to List", "Index", null, new { @class = "btn btn-info" })
</div>
